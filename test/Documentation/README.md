# Модуль збору даних для iOS

## Опис проекту

Цей модуль призначений для збору даних про стан пристрою (рівень батареї) та відправки їх на сервер у фоновому режимі. Модуль є частиною уявного додатка для технічної діагностики.

## Архітектура

Проект використовує MVVM архітектуру з SwiftUI:

### Компоненти:

1. **Models/DataModel.swift** - Моделі даних
   - `DeviceData` - структура для збору даних про пристрій
   - `ServerResponse` - структура відповіді сервера

2. **ViewModels/DataCollector.swift** - Збір даних
   - Моніторинг рівня батареї
   - Таймер для збору даних кожні 2 хвилини
   - Інтеграція з NetworkManager

3. **Services/NetworkManager.swift** - Мережева взаємодія
   - Відправка даних на сервер через HTTPS
   - Базовий захист даних (кодування Base64)
   - Обробка відповідей сервера

4. **ViewModels/BackgroundTaskManager.swift** - Фонова робота
   - Управління UIBackgroundTask
   - Оптимізація для фонового режиму

5. **Views/ContentView.swift** - Інтерфейс користувача
   - Відображення статусу збору даних
   - Управління моніторингом
   - Інформаційна панель

## Функціональність

### Збір даних:
- Моніторинг рівня заряду батареї пристрою
- Збір даних кожні 2 хвилини
- Автоматичний запуск при старті додатка

### Мережева взаємодія:
- HTTPS запити до тестового сервера
- JSON формат даних
- Кодування Base64 для базового захисту

### Оптимізація:
- Мінімальне споживання ресурсів
- Використання UIBackgroundTask
- Ефективне управління пам'яттю

## Технічні деталі

### Безпека:
- HTTPS з'єднання
- Кодування даних у Base64
- Валідація відповідей сервера

### Фонова робота:
- Автоматичне управління фоновими задачами
- Перевірка часу фонової роботи
- Graceful завершення задач
- Налаштування `UIBackgroundModes = background-processing` в проекті

### Структура даних:
```json
{
  "data": "base64_encoded_json_data",
  "type": "device_data"
}
```

## Вимоги

- iOS 15+
- Swift 5.0+
- Xcode 13+

## Запуск

1. Відкрийте проект у Xcode
2. Виберіть симулятор або пристрій
3. Натисніть "Run" (⌘+R)
4. Натисніть "Почати збір" для активації моніторингу

## Логування

Модуль виводить детальну інформацію в консоль:
-  Зібрано дані про батарею
-  Успішна відправка на сервер
-  Помилки мережі
-  Статус фонових задач

## Тестування

Модуль можна протестувати:
1. На симуляторі iOS
2. На реальному пристрої
3. У фоновому режимі (натисніть Home або переключіть додатки)

