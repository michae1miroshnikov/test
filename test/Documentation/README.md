# –ú–æ–¥—É–ª—å –∑–±–æ—Ä—É –¥–∞–Ω–∏—Ö –¥–ª—è iOS

## –û–ø–∏—Å –ø—Ä–æ–µ–∫—Ç—É

–¶–µ–π –º–æ–¥—É–ª—å –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è –∑–±–æ—Ä—É –¥–∞–Ω–∏—Ö –ø—Ä–æ —Å—Ç–∞–Ω –ø—Ä–∏—Å—Ç—Ä–æ—é (—Ä—ñ–≤–µ–Ω—å –±–∞—Ç–∞—Ä–µ—ó) —Ç–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ —ó—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä —É —Ñ–æ–Ω–æ–≤–æ–º—É —Ä–µ–∂–∏–º—ñ. –ú–æ–¥—É–ª—å —î —á–∞—Å—Ç–∏–Ω–æ—é —É—è–≤–Ω–æ–≥–æ –¥–æ–¥–∞—Ç–∫–∞ –¥–ª—è —Ç–µ—Ö–Ω—ñ—á–Ω–æ—ó –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.

## –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î MVVM –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—É –∑ SwiftUI:

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏:

1. **Models/DataModel.swift** - –ú–æ–¥–µ–ª—ñ –¥–∞–Ω–∏—Ö
   - `DeviceData` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –∑–±–æ—Ä—É –¥–∞–Ω–∏—Ö –ø—Ä–æ –ø—Ä–∏—Å—Ç—Ä—ñ–π
   - `ServerResponse` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ —Å–µ—Ä–≤–µ—Ä–∞

2. **ViewModels/DataCollector.swift** - –ó–±—ñ—Ä –¥–∞–Ω–∏—Ö
   - –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ä—ñ–≤–Ω—è –±–∞—Ç–∞—Ä–µ—ó
   - –¢–∞–π–º–µ—Ä –¥–ª—è –∑–±–æ—Ä—É –¥–∞–Ω–∏—Ö –∫–æ–∂–Ω—ñ 2 —Ö–≤–∏–ª–∏–Ω–∏
   - –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ NetworkManager

3. **Services/NetworkManager.swift** - –ú–µ—Ä–µ–∂–µ–≤–∞ –≤–∑–∞—î–º–æ–¥—ñ—è
   - –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–∏—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ HTTPS
   - –ë–∞–∑–æ–≤–∏–π –∑–∞—Ö–∏—Å—Ç –¥–∞–Ω–∏—Ö (–∫–æ–¥—É–≤–∞–Ω–Ω—è Base64)
   - –û–±—Ä–æ–±–∫–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π —Å–µ—Ä–≤–µ—Ä–∞

4. **ViewModels/BackgroundTaskManager.swift** - –§–æ–Ω–æ–≤–∞ —Ä–æ–±–æ—Ç–∞
   - –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è UIBackgroundTask
   - –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –¥–ª—è —Ñ–æ–Ω–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º—É

5. **Views/ContentView.swift** - –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
   - –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É –∑–±–æ—Ä—É –¥–∞–Ω–∏—Ö
   - –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥–æ–º
   - –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω–∞ –ø–∞–Ω–µ–ª—å

## –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å

### –ó–±—ñ—Ä –¥–∞–Ω–∏—Ö:
- –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ä—ñ–≤–Ω—è –∑–∞—Ä—è–¥—É –±–∞—Ç–∞—Ä–µ—ó –ø—Ä–∏—Å—Ç—Ä–æ—é
- –ó–±—ñ—Ä –¥–∞–Ω–∏—Ö –∫–æ–∂–Ω—ñ 2 —Ö–≤–∏–ª–∏–Ω–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π –∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç—ñ –¥–æ–¥–∞—Ç–∫–∞

### –ú–µ—Ä–µ–∂–µ–≤–∞ –≤–∑–∞—î–º–æ–¥—ñ—è:
- HTTPS –∑–∞–ø–∏—Ç–∏ –¥–æ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- JSON —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–∏—Ö
- –ö–æ–¥—É–≤–∞–Ω–Ω—è Base64 –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ –∑–∞—Ö–∏—Å—Ç—É

### –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è:
- –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–µ —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è UIBackgroundTask
- –ï—Ñ–µ–∫—Ç–∏–≤–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é

## –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

### –ë–µ–∑–ø–µ–∫–∞:
- HTTPS –∑'—î–¥–Ω–∞–Ω–Ω—è
- –ö–æ–¥—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö —É Base64
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π —Å–µ—Ä–≤–µ—Ä–∞

### –§–æ–Ω–æ–≤–∞ —Ä–æ–±–æ—Ç–∞:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ñ–æ–Ω–æ–≤–∏–º–∏ –∑–∞–¥–∞—á–∞–º–∏
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–∞—Å—É —Ñ–æ–Ω–æ–≤–æ—ó —Ä–æ–±–æ—Ç–∏
- Graceful –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –∑–∞–¥–∞—á
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è `UIBackgroundModes = background-processing` –≤ –ø—Ä–æ–µ–∫—Ç—ñ

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–∏—Ö:
```json
{
  "data": "base64_encoded_json_data",
  "type": "device_data"
}
```

## –í–∏–º–æ–≥–∏

- iOS 15+
- Swift 5.0+
- Xcode 13+

## –ó–∞–ø—É—Å–∫

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ –ø—Ä–æ–µ–∫—Ç —É Xcode
2. –í–∏–±–µ—Ä—ñ—Ç—å —Å–∏–º—É–ª—è—Ç–æ—Ä –∞–±–æ –ø—Ä–∏—Å—Ç—Ä—ñ–π
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Run" (‚åò+R)
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–ü–æ—á–∞—Ç–∏ –∑–±—ñ—Ä" –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü—ñ—ó –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É

## –õ–æ–≥—É–≤–∞–Ω–Ω—è

–ú–æ–¥—É–ª—å –≤–∏–≤–æ–¥–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –≤ –∫–æ–Ω—Å–æ–ª—å:
- üìä –ó—ñ–±—Ä–∞–Ω–æ –¥–∞–Ω—ñ –ø—Ä–æ –±–∞—Ç–∞—Ä–µ—é
- ‚úÖ –£—Å–ø—ñ—à–Ω–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- ‚ùå –ü–æ–º–∏–ª–∫–∏ –º–µ—Ä–µ–∂—ñ
- üîÑ –°—Ç–∞—Ç—É—Å —Ñ–æ–Ω–æ–≤–∏—Ö –∑–∞–¥–∞—á

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

–ú–æ–¥—É–ª—å –º–æ–∂–Ω–∞ –ø—Ä–æ—Ç–µ—Å—Ç—É–≤–∞—Ç–∏:
1. –ù–∞ —Å–∏–º—É–ª—è—Ç–æ—Ä—ñ iOS
2. –ù–∞ —Ä–µ–∞–ª—å–Ω–æ–º—É –ø—Ä–∏—Å—Ç—Ä–æ—ó
3. –£ —Ñ–æ–Ω–æ–≤–æ–º—É —Ä–µ–∂–∏–º—ñ (–Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å Home –∞–±–æ –ø–µ—Ä–µ–∫–ª—é—á—ñ—Ç—å –¥–æ–¥–∞—Ç–∫–∏)

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—É

–ü—Ä–æ–µ–∫—Ç –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∏–π –¥–ª—è —Ä–æ–±–æ—Ç–∏ —É —Ñ–æ–Ω–æ–≤–æ–º—É —Ä–µ–∂–∏–º—ñ:
- `INFOPLIST_KEY_UIBackgroundModes = background-processing` –¥–æ–¥–∞–Ω–æ –≤ –æ–±–∏–¥–≤—ñ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó (Debug —Ç–∞ Release)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è Info.plist —á–µ—Ä–µ–∑ `GENERATE_INFOPLIST_FILE = YES`
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ñ–æ–Ω–æ–≤–æ—ó –æ–±—Ä–æ–±–∫–∏ —á–µ—Ä–µ–∑ UIBackgroundTask

## –î–æ–¥–∞—Ç–∫–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

–ú–æ–¥—É–ª—å –≥–æ—Ç–æ–≤–∏–π –¥–ª—è —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è:
- –î–æ–¥–∞–≤–∞–Ω–Ω—è —ñ–Ω—à–∏—Ö —Ç–∏–ø—ñ–≤ –¥–∞–Ω–∏—Ö (CPU, –ø–∞–º'—è—Ç—å, –º–µ—Ä–µ–∂–∞)
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —á–∞—Å—Ç–æ—Ç–∏ –∑–±–æ—Ä—É
- –õ–æ–∫–∞–ª—å–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö
- –†–æ–∑—à–∏—Ä–µ–Ω–∏–π –∑–∞—Ö–∏—Å—Ç –¥–∞–Ω–∏—Ö 