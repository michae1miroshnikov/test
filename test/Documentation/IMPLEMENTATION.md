# –î–µ—Ç–∞–ª—å–Ω–µ –ø–æ—è—Å–Ω–µ–Ω–Ω—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó

## –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è

### 1. MVVM –∑ SwiftUI
–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ MVVM (Model-View-ViewModel) –∑ SwiftUI:
- **Model**: `DeviceData`, `ServerResponse` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–∞–Ω–∏—Ö
- **View**: `ContentView` - —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- **ViewModel**: `DataCollector`, `BackgroundTaskManager` - –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞

### 2. Singleton –¥–ª—è –º–µ—Ä–µ–∂–µ–≤–æ—ó –≤–∑–∞—î–º–æ–¥—ñ—ó
`NetworkManager` —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π —è–∫ singleton –¥–ª—è:
- –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –º–µ—Ä–µ–∂–µ–≤–∏–º–∏ –∑–∞–ø–∏—Ç–∞–º–∏
- –£–Ω–∏–∫–Ω–µ–Ω–Ω—è –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤ –ø—Ä–∏ –æ–¥–Ω–æ—á–∞—Å–Ω–∏—Ö –∑–∞–ø–∏—Ç–∞—Ö
- –ï—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤

### 3. ObservableObject –¥–ª—è —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
–í—Å—ñ ViewModel –∫–ª–∞—Å–∏ –Ω–∞—Å–ª—ñ–¥—É—é—Ç—å `ObservableObject` –¥–ª—è:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è UI –ø—Ä–∏ –∑–º—ñ–Ω—ñ –¥–∞–Ω–∏—Ö
- –†–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∑–≤'—è–∑–∫—É –º—ñ–∂ –º–æ–¥–µ–ª–ª—é —Ç–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è–º
- –ï—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∂–∏—Ç—Ç—î–≤–∏–º —Ü–∏–∫–ª–æ–º

## –ö–ª—é—á–æ–≤—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

### DataCollector.swift
```swift
class DataCollector: ObservableObject {
    @Published var currentBatteryLevel: Float = 0.0
    @Published var isMonitoring = false
    
    private var timer: Timer?
}
```

**–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å:**
- –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ä—ñ–≤–Ω—è –±–∞—Ç–∞—Ä–µ—ó —á–µ—Ä–µ–∑ `UIDevice.current.batteryLevel`
- –¢–∞–π–º–µ—Ä –¥–ª—è –∑–±–æ—Ä—É –¥–∞–Ω–∏—Ö –∫–æ–∂–Ω—ñ 2 —Ö–≤–∏–ª–∏–Ω–∏ (120 —Å–µ–∫—É–Ω–¥)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∂–∏—Ç—Ç—î–≤–∏–º —Ü–∏–∫–ª–æ–º

**–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è:**
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `weak self` –≤ –∑–∞–º–∏–∫–∞–Ω–Ω—è—Ö –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è retain cycles
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–º–∫–Ω–µ–Ω–Ω—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É –±–∞—Ç–∞—Ä–µ—ó –≤ `deinit`

### NetworkManager.swift
```swift
class NetworkManager {
    static let shared = NetworkManager()
    private let baseURL = "https://jsonplaceholder.typicode.com/posts"
}
```

**–ë–µ–∑–ø–µ–∫–∞:**
- HTTPS –∑'—î–¥–Ω–∞–Ω–Ω—è –∑ –≤–∞–ª—ñ–¥–∞—Ü—ñ—î—é —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç—ñ–≤
- –ö–æ–¥—É–≤–∞–Ω–Ω—è JSON –¥–∞–Ω–∏—Ö —É Base64 –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ –∑–∞—Ö–∏—Å—Ç—É
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π —Å–µ—Ä–≤–µ—Ä–∞

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ payload:**
```json
{
  "data": "base64_encoded_json_data",
  "type": "device_data"
}
```

### BackgroundTaskManager.swift
```swift
class BackgroundTaskManager: ObservableObject {
    private var backgroundTaskID: UIBackgroundTaskIdentifier = .invalid
}
```

**–§–æ–Ω–æ–≤–∞ —Ä–æ–±–æ—Ç–∞:**
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `UIBackgroundTask` –¥–ª—è –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è —Ä–æ–±–æ—Ç–∏ —É —Ñ–æ–Ω—ñ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∂–∏—Ç—Ç—î–≤–∏–º —Ü–∏–∫–ª–æ–º –∑–∞–¥–∞—á
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ —á–∞—Å—É —Ñ–æ–Ω–æ–≤–æ—ó —Ä–æ–±–æ—Ç–∏

## –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è —Ä–µ—Å—É—Ä—Å—ñ–≤

### 1. –ú—ñ–Ω—ñ–º–∞–ª—å–Ω–µ —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è –±–∞—Ç–∞—Ä–µ—ó
- –¢–∞–π–º–µ—Ä –∑ —ñ–Ω—Ç–µ—Ä–≤–∞–ª–æ–º 2 —Ö–≤–∏–ª–∏–Ω–∏ (–Ω–µ –∑–∞–Ω–∞–¥—Ç–æ —á–∞—Å—Ç–æ)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–º–∫–Ω–µ–Ω–Ω—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ñ
- –ï—Ñ–µ–∫—Ç–∏–≤–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –º–µ—Ä–µ–∂–µ–≤–∏–º–∏ –∑–∞–ø–∏—Ç–∞–º–∏

### 2. –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø–∞–º'—è—Ç—Ç—é
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `weak` –ø–æ—Å–∏–ª–∞–Ω—å
- –ü—Ä–∞–≤–∏–ª—å–Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ç–∞–π–º–µ—Ä—ñ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –∑–≤—ñ–ª—å–Ω–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤

### 3. –ú–µ—Ä–µ–∂–µ–≤–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ñ –∑–∞–ø–∏—Ç–∏ –±–µ–∑ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è UI
- –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ –º–µ—Ä–µ–∂—ñ
- Retry –ª–æ–≥—ñ–∫–∞ (–º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏)

## –ë–µ–∑–ø–µ–∫–∞ –¥–∞–Ω–∏—Ö

### 1. HTTPS –∑'—î–¥–Ω–∞–Ω–Ω—è
- –ü—Ä–∏–º—É—Å–æ–≤–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è TLS 1.2+
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç—ñ–≤ —Å–µ—Ä–≤–µ—Ä–∞
- –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤ Info.plist

### 2. –ö–æ–¥—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö
```swift
// –ö–æ–¥—É–≤–∞–Ω–Ω—è JSON —É Base64
let base64Data = jsonData.base64EncodedString()
```

### 3. –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ HTTP —Å—Ç–∞—Ç—É—Å –∫–æ–¥—ñ–≤
- –î–µ–∫–æ–¥—É–≤–∞–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–µ–π —Å–µ—Ä–≤–µ—Ä–∞
- –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ –º–µ—Ä–µ–∂—ñ

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### 1. –ù–∞ —Å–∏–º—É–ª—è—Ç–æ—Ä—ñ
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–±–æ—Ä—É –¥–∞–Ω–∏—Ö
- –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è UI —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –º–µ—Ä–µ–∂–µ–≤–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤

### 2. –ù–∞ —Ä–µ–∞–ª—å–Ω–æ–º—É –ø—Ä–∏—Å—Ç—Ä–æ—ó
- –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ñ–æ–Ω–æ–≤–æ–≥–æ —Ä–µ–∂–∏–º—É
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è –±–∞—Ç–∞—Ä–µ—ó
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ä–æ–±–æ—Ç–∏ –∑ —Ä–µ–∞–ª—å–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏

### 3. –§–æ–Ω–æ–≤–∏–π —Ä–µ–∂–∏–º
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–Ω—è –º—ñ–∂ –¥–æ–¥–∞—Ç–∫–∞–º–∏
- –ù–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –∫–Ω–æ–ø–∫–∏ Home
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è —Ä–æ–±–æ—Ç–∏

## –õ–æ–≥—É–≤–∞–Ω–Ω—è —Ç–∞ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –ö–æ–Ω—Å–æ–ª—å–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:
- üìä –ó—ñ–±—Ä–∞–Ω–æ –¥–∞–Ω—ñ –ø—Ä–æ –±–∞—Ç–∞—Ä–µ—é
- ‚úÖ –£—Å–ø—ñ—à–Ω–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- ‚ùå –ü–æ–º–∏–ª–∫–∏ –º–µ—Ä–µ–∂—ñ
- üîÑ –°—Ç–∞—Ç—É—Å —Ñ–æ–Ω–æ–≤–∏—Ö –∑–∞–¥–∞—á

### –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –≤ Xcode:
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Debug Navigator
- –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ
- –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –º–µ—Ä–µ–∂–µ–≤–æ—ó –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ

## –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è –º–æ–¥—É–ª—è

### –ú–æ–∂–ª–∏–≤—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è:
1. **–î–æ–¥–∞—Ç–∫–æ–≤—ñ –¥–∞–Ω—ñ**: CPU, –ø–∞–º'—è—Ç—å, –º–µ—Ä–µ–∂–µ–≤–∞ –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å
2. **–õ–æ–∫–∞–ª—å–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è**: Core Data –∞–±–æ UserDefaults
3. **–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è**: —á–∞—Å—Ç–æ—Ç–∞ –∑–±–æ—Ä—É, —Å–µ—Ä–≤–µ—Ä URL
4. **–†–æ–∑—à–∏—Ä–µ–Ω–∏–π –∑–∞—Ö–∏—Å—Ç**: —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è, —Ç–æ–∫–µ–Ω–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
5. **Retry –ª–æ–≥—ñ–∫–∞**: –ø–æ–≤—Ç–æ—Ä–Ω—ñ —Å–ø—Ä–æ–±–∏ –ø—Ä–∏ –ø–æ–º–∏–ª–∫–∞—Ö –º–µ—Ä–µ–∂—ñ
6. **Push notifications**: —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ —Å—Ç–∞—Ç—É—Å

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è:
```swift
protocol DataCollectable {
    func collectData() -> DeviceData
}

protocol NetworkSendable {
    func sendData(_ data: DeviceData, completion: @escaping (Result<ServerResponse, Error>) -> Void)
}
```

## –í–∏—Å–Ω–æ–≤–æ–∫

–ú–æ–¥—É–ª—å —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π –∑ –¥–æ—Ç—Ä–∏–º–∞–Ω–Ω—è–º –≤—Å—ñ—Ö —Ç–µ—Ö–Ω—ñ—á–Ω–∏—Ö –≤–∏–º–æ–≥:
- ‚úÖ Swift —Ç–∞ iOS 15+
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–∏–π –∫–æ–¥ (MVVM)
- ‚úÖ –ó–±—ñ—Ä –¥–∞–Ω–∏—Ö –ø—Ä–æ –±–∞—Ç–∞—Ä–µ—é –∫–æ–∂–Ω—ñ 2 —Ö–≤–∏–ª–∏–Ω–∏
- ‚úÖ HTTPS –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- ‚úÖ –ë–∞–∑–æ–≤–∏–π –∑–∞—Ö–∏—Å—Ç –¥–∞–Ω–∏—Ö (Base64)
- ‚úÖ –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è —Ä–µ—Å—É—Ä—Å—ñ–≤
- ‚úÖ UIBackgroundTask –¥–ª—è —Ñ–æ–Ω–æ–≤–æ—ó —Ä–æ–±–æ—Ç–∏
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –≤ –∫–æ–¥—ñ

–ú–æ–¥—É–ª—å –≥–æ—Ç–æ–≤–∏–π –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ç–∞ –ø–æ–¥–∞–ª—å—à–æ–≥–æ —Ä–æ–∑–≤–∏—Ç–∫—É. 